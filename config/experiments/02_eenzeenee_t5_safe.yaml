experiment_name: "02_eenzeenee_t5_safe"
base_config: "config.yaml"

general:
  experiment_name: "dialogue_summarization"
  model_name: "eenzeenee/t5-base-korean-summarization"
  seed: 42
  device: "auto"

data:
  train_path: "data/train.csv"
  val_path: "data/dev.csv"
  test_path: "data/test.csv"
  max_train_samples: null
  max_val_samples: null
  max_test_samples: null
  # 특수 토큰 설정 - 안전 모드
  special_tokens:
    - "#PhoneNumber#"
    - "#Address#"
    - "#PassportNumber#"

tokenizer:
  encoder_max_len: 512
  decoder_max_len: 128
  truncation: true
  padding: true

training:
  output_dir: "outputs/"
  num_train_epochs: 3
  per_device_train_batch_size: 8
  per_device_eval_batch_size: 16
  gradient_accumulation_steps: 2
  eval_accumulation_steps: 2
  warmup_ratio: 0.1
  learning_rate: 3.0e-05
  weight_decay: 0.01
  gradient_checkpointing: true
  fp16: true
  fp16_opt_level: "O1"
  dataloader_num_workers: 4
  save_steps: 500
  eval_steps: 500
  save_total_limit: 3
  load_best_model_at_end: true
  metric_for_best_model: "rouge_combined_f1"
  greater_is_better: true
  logging_steps: 100
  evaluation_strategy: "steps"
  save_safetensors: true

generation:
  max_length: 200
  min_length: 30
  do_sample: false
  early_stopping: true
  num_beams: 4
  length_penalty: 1.0
  no_repeat_ngram_size: 3

evaluation:
  rouge_types: ["rouge1", "rouge2", "rougeL", "rougeLsum"]
  rouge_use_stemmer: true
  rouge_use_aggregator: true
  rouge_tokenize_korean: true

callbacks:
  early_stopping:
    enabled: true
    patience: 3
    threshold: 0.001

wandb:
  enabled: true
  entity: "lyjune37-juneictlab"
  project: "nlp-5"
  name: "eenzeenee_t5_safe"
  tags: ["eenzeenee", "t5", "korean", "safe_mode"]
  group: "experiment_02"

# Generation settings
generation:
  max_length: 256
  min_length: 5
  num_beams: 4
  no_repeat_ngram_size: 2
\ntraining:\n  eval_strategy: no
